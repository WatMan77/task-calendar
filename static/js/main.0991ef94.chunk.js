(this["webpackJsonptask-calendar"]=this["webpackJsonptask-calendar"]||[]).push([[0],{206:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(46),s=a.n(r),l=(a(87),a(7)),o=a(13),i=a(209),u=a(3),d="SET_DATE",j="SET_TASK",b="SAVE_TASK",h="DELETE_TASK",O=function(){var e=localStorage.getItem("$calendar_db");return e?(e=JSON.parse(e)).map((function(e){return e.date=new Date(e.date)})):g(e=[]),e},g=function(e){localStorage.setItem("$calendar_db",JSON.stringify(e))},f=Object(n.createContext)(),x=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()};var v=function(e){var t={date:new Date,days:[],task:null},a=Object(n.useReducer)((function(e,t){var a=function(){switch(t.type){case d:var a=t.payload,n=new Date(a.getFullYear(),a.getMonth(),1);n.setDate(n.getDate()-(0===n.getDay()?7:n.getDay()));var c=new Date(a.getFullYear(),a.getMonth()+1,0);0!==c.getDay()&&c.setDate(c.getDate()+(7-c.getDay()));var r=O(),s=[];do{n.setDate(n.getDate()+1),s.push({date:new Date(n.getTime()),tasks:r.filter((function(e){return x(n,e.date)}))})}while(!x(n,c));return{v:Object(l.a)(Object(l.a)({},e),{},{date:a,days:s})};case j:return{v:Object(l.a)(Object(l.a)({},e),{},{task:t.payload})};case b:var o=O(),u=t.payload;return u.id?o=o.map((function(e){return e.id===u.id?u:e})):(u.id=Object(i.a)(),o.push(u)),g(o),{v:Object(l.a)({},e)};case h:var f=O();return f=f.filter((function(e){return e.id!==t.payload})),g(f),{v:Object(l.a)({},e)}}}();if("object"===typeof a)return a.v}),t),c=Object(o.a)(a,2),r=c[0],s=c[1];return Object(u.jsx)(f.Provider,{value:{date:r.date,days:r.days,task:r.task,setDate:function(e){s({type:d,payload:e})},setTask:function(e){s({type:j,payload:e})},saveTask:function(e){s({type:b,payload:e})},deleteTask:function(e){s({type:h,payload:e})}},children:e.children})};var m=function(){var e=Object(n.useContext)(f),t=e.date,a=e.setDate,c=function(e){var n=new Date(t.setMonth(t.getMonth()+e));a(n)};return Object(u.jsxs)("header",{children:[Object(u.jsx)("div",{className:"month",children:Object(u.jsxs)("h1",{children:[["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ",t.getFullYear()]})}),Object(u.jsxs)("div",{className:"nav",children:[Object(u.jsx)("button",{className:"button button-white",onClick:function(){return c(-1)},children:Object(u.jsx)("svg",{width:"52px",height:"52px",viewBox:"0 0 52 52","data-name":"Layer 1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("g",{"data-name":"Group 132",id:"Group_132",children:Object(u.jsx)("path",{d:"M38,52a2,2,0,0,1-1.41-.59l-24-24a2,2,0,0,1,0-2.82l24-24a2,2,0,0,1,2.82,0,2,2,0,0,1,0,2.82L16.83,26,39.41,48.59A2,2,0,0,1,38,52Z"})})})}),Object(u.jsx)("button",{className:"button button-white",onClick:function(){return a(new Date)},children:"Today"}),Object(u.jsx)("button",{className:"button button-white",onClick:function(){return c(1)},children:Object(u.jsx)("svg",{width:"52px",height:"52px",viewBox:"0 0 52 52","data-name":"Layer 1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("g",{"data-name":"Group 132",id:"Group_132",children:Object(u.jsx)("path",{d:"M14,52a2,2,0,0,1-1.41-3.41L35.17,26,12.59,3.41a2,2,0,0,1,0-2.82,2,2,0,0,1,2.82,0l24,24a2,2,0,0,1,0,2.82l-24,24A2,2,0,0,1,14,52Z"})})})})]})]})};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,a=parseInt(e.substring(e.length-2,e.length-0),16),n=parseInt(e.substring(e.length-4,e.length-2),16),c=parseInt(e.substring(e.length-6,e.length-4),16),r=(.299*c+.587*n+.114*a)/255,s=r>t?"000000":"ffffff";return"".concat("#"===e.charAt(0)?"#":"").concat(s)}var y=function(e){var t=e.task,a=e.style,c=Object(n.useContext)(f).setTask;return Object(u.jsx)("p",{style:a,onClick:function(){c(t)},children:t.name})};var k=function(e){var t=e.day,a=e.date,c=Object(n.useContext)(f),r=c.setTask,s=c.setDate,l=x(t.date,a),o=(t.date.getMonth()!==a.getMonth()?" disabled":"")+(x(t.date,new Date)?" current-day":"")+(l?" selected-day":"");return Object(u.jsxs)("div",{className:"day ".concat(o),onClick:function(){return s(t.date)},children:[Object(u.jsxs)("div",{className:"task-day",children:[Object(u.jsx)("div",{className:"tasks",children:t.tasks.map((function(e){return Object(u.jsx)(y,{task:e,style:(t=e.color,{background:t,color:p(t)})},e.id);var t}))}),Object(u.jsxs)("h3",{children:[" ",t.date.getDate()," "]})]}),l?Object(u.jsx)("div",{className:"button button-blue add-button",onClick:function(){return r({})},children:"+"}):null]})};var D=function(){var e=Object(n.useContext)(f),t=e.date,a=e.days,c=e.setDate;return Object(n.useEffect)((function(){c(new Date)}),[]),a.length<1?null:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"calendar borderless day-names",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((function(e){return Object(u.jsx)("h5",{children:e},e)}))}),Object(u.jsx)("div",{className:"calendar",children:a.map((function(e){return Object(u.jsx)(k,{day:e,date:t,setDate:c},e.date)}))})]})},w=a(77),N=a.n(w),T=a(82),C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};var S=function(){var e=Object(n.useContext)(f),t=e.date,a=e.task,c=e.setTask,r=e.saveTask,s=e.setDate,i=e.deleteTask,d=Object(n.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1],O=Object(n.useState)("#f44336"),g=Object(o.a)(O,2),x=g[0],v=g[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),y=p[0],k=p[1];Object(n.useEffect)((function(){a&&(h(a.name||""),v(a.color||"#f44336"))}),[a]);var D=function(){c(null),k(!1)};return Object(u.jsx)(N.a,{isOpen:null!=a,onRequestClose:D,style:C,ariaHideApp:!1,contentLabel:"Task Form",children:Object(u.jsxs)("div",{className:"task-form",children:[Object(u.jsx)("label",{children:"Name"}),Object(u.jsx)("input",{name:"name",value:b,onChange:function(e){return h(e.target.value)},type:"text",placeholder:"Task Name"}),Object(u.jsx)("label",{children:"Color"}),Object(u.jsx)("div",{children:Object(u.jsx)(T.a,{color:x,onChange:function(e){v(e.hex)}})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"button button-red",onClick:D,children:"Cancel"}),a&&a.id?Object(u.jsx)("button",{className:"button button-orange",onClick:function(){i(a.id),s(t),D(),k(!1)},children:"Delete"}):null,Object(u.jsx)("button",{className:"button button-green",onClick:function(){b.trim().length<1?k(!0):(k(!1),r(Object(l.a)(Object(l.a)({},a),{},{date:t,name:b,color:x})),s(t),D())},children:"Save"})]}),y?Object(u.jsx)("p",{className:"error",children:"The name of the task is required"}):null]})})};var M=function(){return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)(v,{children:[Object(u.jsx)(m,{}),Object(u.jsx)(D,{}),Object(u.jsx)(S,{})]}),Object(u.jsxs)("a",{href:"https://github.com/sergiss/task-calendar",target:"_blank",children:[Object(u.jsx)("i",{className:"fa",children:"\uf09b"})," Source Code "]})]})};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(M,{})}),document.getElementById("root"))},87:function(e,t,a){}},[[206,1,2]]]);
//# sourceMappingURL=main.0991ef94.chunk.js.map